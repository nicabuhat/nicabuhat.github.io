{"mappings":"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","sources":["src/assets/js/app.js"],"sourcesContent":["let bets = [];\r\nlet winnings = 0;\r\n\r\nclass Bubble {\r\n  constructor(bubble) {\r\n    this.id = bubble.id;\r\n    this.bet = bubble.bet;\r\n    this.secret = bubble.secret;\r\n    this.size = bubble.size;\r\n  }\r\n\r\n  createBubbleDiv() {\r\n    const sectionBubbles = document.getElementById('section-bubbles');\r\n    const betForm = document.getElementById('form-bet');\r\n    const newBubble = Object.assign(document.createElement('div'), {\r\n      className: 'bubble',\r\n      id: this.id,\r\n    });\r\n    newBubble.innerText = this.bet;\r\n    sectionBubbles.append(newBubble);\r\n    betForm.reset();\r\n  }\r\n\r\n  getSize() {\r\n    return this.size;\r\n  }\r\n\r\n  getBet() {\r\n    return this.bet;\r\n  }\r\n\r\n  getSecret() {\r\n    return this.secret;\r\n  }\r\n\r\n  setSize(size) {\r\n    this.size = size;\r\n  }\r\n\r\n  pushToBets() {\r\n    bets.push(this);\r\n  }\r\n}\r\n\r\nconst toggleBetSection = () => {\r\n  const betSection = document.getElementById('section-form');\r\n  betSection.style.display =\r\n    getComputedStyle(betSection, null).display === 'flex' ? 'none' : 'flex';\r\n};\r\n\r\nconst toggleChallengeSection = () => {\r\n  const challengeSection = document.getElementById('section-challenge');\r\n  challengeSection.style.display =\r\n    getComputedStyle(challengeSection, null).display === 'flex'\r\n      ? 'none'\r\n      : 'flex';\r\n};\r\n\r\nconst updateBubbleSize = () => {\r\n  const summation = (total, bet) => {\r\n    return total + Number(bet.bet);\r\n  };\r\n\r\n  const total = bets.reduce(summation, 0);\r\n\r\n  bets = bets.map((bet) => {\r\n    const size = `${Math.floor((bet.bet / total) * 100 + 80)}px`;\r\n    const bubble = document.getElementById(bet.id);\r\n    bubble.style.height = size;\r\n    bubble.style.width = size;\r\n    const newBubble = new Bubble(bet);\r\n    newBubble.size = size;\r\n    return newBubble;\r\n  });\r\n};\r\n\r\nconst updateBetsList = (bubble) => {\r\n  const newBets = bets.filter((b) => b.id !== bubble.id);\r\n  bets = newBets;\r\n};\r\n\r\nconst onBetFormSubmit = () => {\r\n  const form = document.getElementById('form-bet');\r\n  form.onsubmit = (e) => {\r\n    e.preventDefault();\r\n    const id = '_id' + Math.random().toString(16).slice(2);\r\n    const bet = e.target.bet.value;\r\n    const secret = e.target.secret.value;\r\n    const currentBubble = { id, bet, secret, size: '50px' };\r\n    const newBubble = new Bubble(currentBubble);\r\n    newBubble.createBubbleDiv();\r\n    newBubble.pushToBets();\r\n    updateBubbleSize();\r\n    toggleBetSection();\r\n  };\r\n};\r\n\r\nconst onSelectBetBtn = () => {\r\n  const toggleBetBtn = document.getElementById('btn-bet');\r\n  toggleBetBtn.addEventListener('click', () => {\r\n    toggleBetSection();\r\n  });\r\n};\r\n\r\nconst onPlaceBetBtn = () => {\r\n  onBetFormSubmit();\r\n};\r\n\r\nconst updateWinnings = (e, clickedBubble) => {\r\n  const bubble = bets.find((b) => b.id === clickedBubble.id);\r\n  const bet = Number(bubble.getBet());\r\n  const secret = bubble.getSecret();\r\n  const winningsText = document.getElementById('winnings');\r\n\r\n  challengeValue = e.target.innerText;\r\n  winnings += challengeValue === secret ? bet : bet * -1;\r\n  winningsText.innerText = winnings;\r\n  clickedBubble.remove();\r\n  updateBetsList(bubble);\r\n  toggleChallengeSection();\r\n};\r\n\r\nconst onChallenge = (bubble) => {\r\n  const secretZero = document.getElementById('btn-challenge-0');\r\n  const secretOne = document.getElementById('btn-challenge-1');\r\n\r\n  secretZero.addEventListener('click', (e) => {\r\n    updateWinnings(e, bubble);\r\n  });\r\n  secretOne.addEventListener('click', (e) => {\r\n    updateWinnings(e, bubble);\r\n  });\r\n};\r\n\r\nconst onClickBubble = () => {\r\n  const callback = (mutationList, observer) => {\r\n    mutationList.forEach((mutation) => {\r\n      let currentBubble = '';\r\n      const added = mutation.addedNodes;\r\n      const removed = mutation.removedNodes;\r\n\r\n      if (added.length > 0 && added[0].className === 'bubble') {\r\n        document.addEventListener('click', (e) => {\r\n          let bubble = e.target;\r\n          if (bubble.className === 'bubble') {\r\n            currentBubble = bets.filter((b) => b.id === bubble.id);\r\n            e.stopImmediatePropagation();\r\n            toggleChallengeSection();\r\n            onChallenge(bubble);\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    observer.disconnect();\r\n  };\r\n\r\n  class customObserver {\r\n    constructor(mutations, observer) {\r\n      this.target = document.getElementById('section-bubbles');\r\n      this.config = { attributes: false, childList: true, subtree: true };\r\n      this.observer = new MutationObserver((mutations, observer) => {\r\n        callback.call(this, mutations, observer);\r\n      });\r\n    }\r\n\r\n    connect() {\r\n      this.observer.observe(this.target, this.config);\r\n    }\r\n\r\n    disconnect() {\r\n      this.observer.disconnect();\r\n    }\r\n  }\r\n\r\n  const observer = new customObserver((mutations, observer) => {\r\n    callback(mutations, observer);\r\n    observer.connect();\r\n  });\r\n\r\n  observer.connect();\r\n};\r\n\r\nconst app = () => {\r\n  onSelectBetBtn();\r\n  onPlaceBetBtn();\r\n  onClickBubble();\r\n};\r\n\r\napp();\r\n"],"names":[],"version":3,"file":"index.b4ce7916.js.map","sourceRoot":"/__parcel_source_root/"}
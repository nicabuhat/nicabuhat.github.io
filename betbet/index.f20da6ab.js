let bets=[],winnings=0;class Bubble{constructor(e){this.id=e.id,this.bet=e.bet,this.secret=e.secret,this.size=e.size}createBubbleDiv(){const e=document.getElementById("section-bubbles"),t=document.getElementById("form-bet"),n=Object.assign(document.createElement("div"),{className:"bubble",id:this.id});n.innerText=this.bet,e.append(n),t.reset()}getSize(){return this.size}getBet(){return this.bet}getSecret(){return this.secret}setSize(e){this.size=e}pushToBets(){bets.push(this)}}const toggleBetSection=()=>{const e=document.getElementById("section-form");e.style.display="flex"===getComputedStyle(e,null).display?"none":"flex"},toggleChallengeSection=()=>{const e=document.getElementById("section-challenge");e.style.display="flex"===getComputedStyle(e,null).display?"none":"flex"},updateBubbleSize=()=>{const e=bets.reduce(((e,t)=>e+Number(t.bet)),0);bets=bets.map((t=>{const n=`${Math.floor(t.bet/e*100+80)}px`,s=document.getElementById(t.id);s.style.height=n,s.style.width=n;const i=new Bubble(t);return i.size=n,i}))},updateBetsList=e=>{const t=bets.filter((t=>t.id!==e.id));bets=t},onBetFormSubmit=()=>{document.getElementById("form-bet").onsubmit=e=>{e.preventDefault();const t="_id"+Math.random().toString(16).slice(2),n=e.target.bet.value,s=e.target.secret.value,i=new Bubble({id:t,bet:n,secret:s,size:"50px"});i.createBubbleDiv(),i.pushToBets(),updateBubbleSize(),toggleBetSection()}},onSelectBetBtn=()=>{document.getElementById("btn-bet").addEventListener("click",(()=>{toggleBetSection()}))},onPlaceBetBtn=()=>{document.getElementById("form-bet").onsubmit=e=>{e.preventDefault();const t="_id"+Math.random().toString(16).slice(2),n=e.target.bet.value,s=e.target.secret.value,i=new Bubble({id:t,bet:n,secret:s,size:"50px"});i.createBubbleDiv(),i.pushToBets(),updateBubbleSize(),toggleBetSection()}},updateWinnings=(e,t)=>{const n=bets.find((e=>e.id===t.id)),s=Number(n.getBet()),i=n.getSecret(),l=document.getElementById("winnings");challengeValue=e.target.innerText,winnings+=challengeValue===i?s:-1*s,l.innerText=winnings,t.remove(),updateBetsList(n),toggleChallengeSection()},onChallenge=e=>{const t=document.getElementById("btn-challenge-0"),n=document.getElementById("btn-challenge-1");t.addEventListener("click",(t=>{updateWinnings(t,e)})),n.addEventListener("click",(t=>{updateWinnings(t,e)}))},onClickBubble=()=>{const e=(e,t)=>{e.forEach((e=>{let t="";const n=e.addedNodes;e.removedNodes;n.length>0&&"bubble"===n[0].className&&document.addEventListener("click",(e=>{let n=e.target;"bubble"===n.className&&(t=bets.filter((e=>e.id===n.id)),e.stopImmediatePropagation(),toggleChallengeSection(),onChallenge(n),e.preventDefault())}))})),t.disconnect()};new class{constructor(t,n){this.target=document.getElementById("section-bubbles"),this.config={attributes:!1,childList:!0,subtree:!0},this.observer=new MutationObserver(((t,n)=>{e.call(this,t,n)}))}connect(){this.observer.observe(this.target,this.config)}disconnect(){this.observer.disconnect()}}(((t,n)=>{e(t,n),n.connect()})).connect()},app=()=>{document.getElementById("btn-bet").addEventListener("click",(()=>{toggleBetSection()})),document.getElementById("form-bet").onsubmit=e=>{e.preventDefault();const t="_id"+Math.random().toString(16).slice(2),n=e.target.bet.value,s=e.target.secret.value,i=new Bubble({id:t,bet:n,secret:s,size:"50px"});i.createBubbleDiv(),i.pushToBets(),updateBubbleSize(),toggleBetSection()},onClickBubble()};document.getElementById("btn-bet").addEventListener("click",(()=>{toggleBetSection()})),document.getElementById("form-bet").onsubmit=e=>{e.preventDefault();const t="_id"+Math.random().toString(16).slice(2),n=e.target.bet.value,s=e.target.secret.value,i=new Bubble({id:t,bet:n,secret:s,size:"50px"});i.createBubbleDiv(),i.pushToBets(),updateBubbleSize(),toggleBetSection()},onClickBubble();
//# sourceMappingURL=index.f20da6ab.js.map
